{% extends 'base.html' %}
{% load static %}

{% block content %}
<div style="background: var(--cl-bg); min-height: calc(100vh - 200px);">
  <!-- Page Header -->
  <header style="background: white; border-bottom: 1px solid var(--cl-border); position: sticky; top: 0; z-index: 10;">
    <div class="container py-3">
      <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center gap-2">
          <div class="d-flex align-items-center justify-content-center" style="width: 2.5rem; height: 2.5rem; border-radius: var(--cl-radius-lg); background: var(--cl-blue); color: white;">
            <i class="fas fa-stethoscope"></i>
          </div>
          <div>
            <h2 class="mb-0" style="font-size: var(--cl-h3); color: var(--cl-blue);">CareLink</h2>
            <p class="mb-0" style="font-size: var(--cl-xs); color: var(--cl-text-muted);">Doctor Portal</p>
          </div>
        </div>
        <div class="d-flex align-items-center gap-3">
          <button class="btn btn-sm position-relative" style="background: transparent; border: none; color: var(--cl-text-muted);">
            <i class="fas fa-bell fa-lg"></i>
            <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle">
              <span class="visually-hidden">New alerts</span>
            </span>
          </button>
          <button class="btn btn-sm" style="background: transparent; border: none; color: var(--cl-text-muted);">
            <i class="fas fa-user me-1"></i><span class="d-none d-md-inline">Dr. Anderson</span>
          </button>
          <a href="{% url 'home:index' %}" class="btn btn-sm" style="background: transparent; border: none; color: var(--cl-text-muted);">
            <i class="fas fa-sign-out-alt me-1"></i>Logout
          </a>
        </div>
      </div>
    </div>
  </header>

  <div class="container py-4">
    <!-- Overview Cards -->
    <div class="row g-3 mb-4">
      <div class="col-md-3">
        <div class="card" style="border: 1px solid var(--cl-border);">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <small class="text-muted">Incoming Reports</small>
              <i class="fas fa-clipboard-list" style="color: var(--cl-blue);"></i>
            </div>
            <h3 class="mb-1" style="font-size: var(--cl-h2); color: var(--cl-text);">24</h3>
            <small class="text-success">+6 today</small>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card" style="border: 1px solid var(--cl-border); border-left: 4px solid var(--cl-red);">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <small class="text-muted">High-Risk Patients</small>
              <i class="fas fa-exclamation-triangle" style="color: var(--cl-red);"></i>
            </div>
            <h3 class="mb-1" style="font-size: var(--cl-h2); color: var(--cl-text);">8</h3>
            <small class="text-danger">Requires immediate attention</small>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card" style="border: 1px solid var(--cl-border);">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <small class="text-muted">Active Patients</small>
              <i class="fas fa-users" style="color: var(--cl-teal);"></i>
            </div>
            <h3 class="mb-1" style="font-size: var(--cl-h2); color: var(--cl-text);">156</h3>
            <small class="text-muted">Total under care</small>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-white" style="border: none; background: linear-gradient(to bottom right, var(--cl-green), #229954);">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-2">
              <small style="opacity: 0.9;">Availability</small>
              <i class="fas fa-calendar"></i>
            </div>
            <h3 class="mb-1" style="font-size: var(--cl-h3);">Available</h3>
            <small style="opacity: 0.9;">Click to manage schedule</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Triage Reports Table -->
    <div class="card mb-4" style="border: 1px solid var(--cl-border);">
      <div class="card-header bg-transparent border-bottom">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h5 class="mb-0" style="font-size: var(--cl-h4); color: var(--cl-text);">Recent Triage Reports</h5>
            <small class="text-muted">Patient assessments requiring review</small>
          </div>
          <div class="d-flex gap-2">
            <button class="btn btn-outline-primary btn-sm">Filter</button>
            <button class="btn btn-primary btn-sm">Export Report</button>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-hover">
            <thead>
              <tr style="border-bottom: 1px solid var(--cl-border);">
                <th style="color: var(--cl-text);">Patient Name</th>
                <th style="color: var(--cl-text);">Age</th>
                <th style="color: var(--cl-text);">Condition</th>
                <th style="color: var(--cl-text);">Severity</th>
                <th style="color: var(--cl-text);">Timestamp</th>
                <th style="color: var(--cl-text);">Status</th>
                <th class="text-end" style="color: var(--cl-text);">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-bottom: 1px solid var(--cl-border);">
                <td>John Smith</td>
                <td class="text-muted">45</td>
                <td>Chest Pain</td>
                <td><span class="badge bg-danger">High</span></td>
                <td class="text-muted">2025-11-06 09:23 AM</td>
                <td><span class="badge" style="border: 1px solid var(--cl-red); color: var(--cl-red); background: transparent;">Pending Review</span></td>
                <td class="text-end"><button class="btn btn-sm" style="background: transparent; border: none; color: var(--cl-blue);">Review</button></td>
              </tr>
              <tr style="border-bottom: 1px solid var(--cl-border);">
                <td>Emma Johnson</td>
                <td class="text-muted">32</td>
                <td>Persistent Cough</td>
                <td><span class="badge bg-warning">Moderate</span></td>
                <td class="text-muted">2025-11-06 08:45 AM</td>
                <td><span class="badge" style="border: 1px solid var(--cl-amber); color: var(--cl-amber); background: transparent;">Under Review</span></td>
                <td class="text-end"><button class="btn btn-sm" style="background: transparent; border: none; color: var(--cl-blue);">Review</button></td>
              </tr>
              <tr style="border-bottom: 1px solid var(--cl-border);">
                <td>Michael Brown</td>
                <td class="text-muted">28</td>
                <td>Headache</td>
                <td><span class="badge bg-success">Mild</span></td>
                <td class="text-muted">2025-11-06 07:30 AM</td>
                <td><span class="badge" style="border: 1px solid var(--cl-green); color: var(--cl-green); background: transparent;">Completed</span></td>
                <td class="text-end"><button class="btn btn-sm" style="background: transparent; border: none; color: var(--cl-blue);">Review</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Summary Cards -->
    <div class="row g-3">
      <div class="col-md-6">
        <div class="card" style="border: 1px solid var(--cl-border);">
          <div class="card-header bg-transparent border-bottom">
            <h5 class="mb-0" style="font-size: var(--cl-h4); color: var(--cl-text);">Today's Summary</h5>
          </div>
          <div class="card-body">
            <div class="d-flex flex-column gap-2">
              <div class="d-flex justify-content-between p-2" style="background: var(--cl-bg); border-radius: var(--cl-radius);">
                <span class="text-muted">Reports Reviewed</span>
                <span style="color: var(--cl-text);">12 / 24</span>
              </div>
              <div class="d-flex justify-content-between p-2" style="background: var(--cl-bg); border-radius: var(--cl-radius);">
                <span class="text-muted">Appointments Scheduled</span>
                <span style="color: var(--cl-text);">8</span>
              </div>
              <div class="d-flex justify-content-between p-2" style="background: var(--cl-bg); border-radius: var(--cl-radius);">
                <span class="text-muted">Follow-ups Required</span>
                <span style="color: var(--cl-text);">5</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card" style="border: 1px solid var(--cl-border); background: linear-gradient(to bottom right, var(--cl-muted-bg), white);">
          <div class="card-header bg-transparent border-bottom">
            <h5 class="mb-0" style="font-size: var(--cl-h4); color: var(--cl-text);">Clinical Notes</h5>
          </div>
          <div class="card-body">
            <p class="text-muted mb-3" style="font-size: var(--cl-sm);">
              Remember to review the high-risk patient cases first. Pay special attention to any chest pain or breathing difficulty reports.
            </p>
            <button class="btn btn-outline-primary w-100">
              Add New Note
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
